<?php $this->load->view('co/common/header'); ?>
<?php !isset($PST_result_overall['count']) ? $PST_result_overall['count'] = 0 : $PST_result_overall['count']; ?>
<?php !isset($SST_result_overall['count']) ? $SST_result_overall['count'] = 0 : $SST_result_overall['count']; ?>
<?php !isset($PET_I_result_overall['count']) ? $PET_I_result_overall['count'] = 0 : $PET_I_result_overall['count']; ?>
<?php !isset($PET_II_result_overall['count']) ? $PET_II_result_overall['count'] = 0 : $PET_II_result_overall['count']; ?>
<?php !isset($PET_III_result_overall['count']) ? $PET_III_result_overall['count'] = 0 : $PET_III_result_overall['count']; ?>
<?php !isset($PET_IV_result_overall['count']) ? $PET_IV_result_overall['count'] = 0 : $PET_IV_result_overall['count']; ?>
<?php !isset($PET_V_result_overall['count']) ? $PET_V_result_overall['count'] = 0 : $PET_V_result_overall['count']; ?>
<?php !isset($PET_VI_result_overall['count']) ? $PET_VI_result_overall['count'] = 0 : $PET_VI_result_overall['count']; ?>
<?php !isset($Prade_training_result_overall['count']) ? $Prade_training_result_overall['count'] = 0 : $Prade_training_result_overall['count']; ?>

<?php !isset($PST_result_t1['count']) ? $PST_result_t1['count'] = 0 : $PST_result_t1['count']; ?>
<?php !isset($SST_result_t1['count']) ? $SST_result_t1['count'] = 0 : $SST_result_t1['count']; ?>
<?php !isset($PET_I_result_t1['count']) ? $PET_I_result_t1['count'] = 0 : $PET_I_result_t1['count']; ?>
<?php !isset($PET_II_result_t1['count']) ? $PET_II_result_t1['count'] = 0 : $PET_II_result_t1['count']; ?>
<?php !isset($PET_III_result_t1['count']) ? $PET_III_result_t1['count'] = 0 : $PET_III_result_t1['count']; ?>
<?php !isset($PET_IV_result_t1['count']) ? $PET_IV_result_t1['count'] = 0 : $PET_IV_result_t1['count']; ?>
<?php !isset($PET_V_result_t1['count']) ? $PET_V_result_t1['count'] = 0 : $PET_V_result_t1['count']; ?>
<?php !isset($PET_VI_result_t1['count']) ? $PET_VI_result_t1['count'] = 0 : $PET_VI_result_t1['count']; ?>
<?php !isset($Prade_training_t1['count']) ? $Prade_training_t1['count'] = 0 : $Prade_training_t1['count']; ?>

<?php !isset($PST_result_t2['count']) ? $PST_result_t2['count'] = 0 : $PST_result_t2['count']; ?>
<?php !isset($SST_result_t2['count']) ? $SST_result_t2['count'] = 0 : $SST_result_t2['count']; ?>
<?php !isset($PET_I_result_t2['count']) ? $PET_I_result_t2['count'] = 0 : $PET_I_result_t2['count']; ?>
<?php !isset($PET_II_result_t2['count']) ? $PET_II_result_t2['count'] = 0 : $PET_II_result_t2['count']; ?>
<?php !isset($PET_III_result_t2['count']) ? $PET_III_result_t2['count'] = 0 : $PET_III_result_t2['count']; ?>
<?php !isset($PET_IV_result_t2['count']) ? $PET_IV_result_t2['count'] = 0 : $PET_IV_result_t2['count']; ?>
<?php !isset($PET_V_result_t2['count']) ? $PET_V_result_t2['count'] = 0 : $PET_V_result_t2['count']; ?>
<?php !isset($PET_VI_result_t2['count']) ? $PET_VI_result_t2['count'] = 0 : $PET_VI_result_t2['count']; ?>
<?php !isset($Prade_training_t2['count']) ? $Prade_training_t2['count'] = 0 : $Prade_training_t2['count']; ?>

<?php !isset($PST_result_t3['count']) ? $PST_result_t3['count'] = 0 : $PST_result_t3['count']; ?>
<?php !isset($SST_result_t3['count']) ? $SST_result_t3['count'] = 0 : $SST_result_t3['count']; ?>
<?php !isset($PET_I_result_t3['count']) ? $PET_I_result_t3['count'] = 0 : $PET_I_result_t3['count']; ?>
<?php !isset($PET_II_result_t3['count']) ? $PET_II_result_t3['count'] = 0 : $PET_II_result_t3['count']; ?>
<?php !isset($PET_III_result_t3['count']) ? $PET_III_result_t3['count'] = 0 : $PET_III_result_t3['count']; ?>
<?php !isset($PET_IV_result_t3['count']) ? $PET_IV_result_t3['count'] = 0 : $PET_IV_result_t3['count']; ?>
<?php !isset($PET_V_result_t3['count']) ? $PET_V_result_t3['count'] = 0 : $PET_V_result_t3['count']; ?>
<?php !isset($PET_VI_result_t3['count']) ? $PET_VI_result_t3['count'] = 0 : $PET_VI_result_t3['count']; ?>
<?php !isset($Prade_training_t3['count']) ? $Prade_training_t3['count'] = 0 : $Prade_training_t3['count']; ?>

<?php !isset($PST_result_t4['count']) ? $PST_result_t4['count'] = 0 : $PST_result_t4['count']; ?>
<?php !isset($SST_result_t4['count']) ? $SST_result_t4['count'] = 0 : $SST_result_t4['count']; ?>
<?php !isset($PET_I_result_t4['count']) ? $PET_I_result_t4['count'] = 0 : $PET_I_result_t4['count']; ?>
<?php !isset($PET_II_result_t4['count']) ? $PET_II_result_t4['count'] = 0 : $PET_II_result_t4['count']; ?>
<?php !isset($PET_III_result_t4['count']) ? $PET_III_result_t4['count'] = 0 : $PET_III_result_t4['count']; ?>
<?php !isset($PET_IV_result_t4['count']) ? $PET_IV_result_t4['count'] = 0 : $PET_IV_result_t4['count']; ?>
<?php !isset($PET_V_result_t4['count']) ? $PET_V_result_t4['count'] = 0 : $PET_V_result_t4['count']; ?>
<?php !isset($PET_VI_result_t4['count']) ? $PET_VI_result_t4['count'] = 0 : $PET_VI_result_t4['count']; ?>
<?php !isset($Prade_training_t4['count']) ? $Prade_training_t4['count'] = 0 : $Prade_training_t4['count']; ?>

<?php !isset($PST_result_t5['count']) ? $PST_result_t5['count'] = 0 : $PST_result_t5['count']; ?>
<?php !isset($SST_result_t5['count']) ? $SST_result_t5['count'] = 0 : $SST_result_t5['count']; ?>
<?php !isset($PET_I_result_t5['count']) ? $PET_I_result_t5['count'] = 0 : $PET_I_result_t5['count']; ?>
<?php !isset($PET_II_result_t5['count']) ? $PET_II_result_t5['count'] = 0 : $PET_II_result_t5['count']; ?>
<?php !isset($PET_III_result_t5['count']) ? $PET_III_result_t5['count'] = 0 : $PET_III_result_t5['count']; ?>
<?php !isset($PET_IV_result_t5['count']) ? $PET_IV_result_t5['count'] = 0 : $PET_IV_result_t5['count']; ?>
<?php !isset($PET_V_result_t5['count']) ? $PET_V_result_t5['count'] = 0 : $PET_V_result_t5['count']; ?>
<?php !isset($PET_VI_result_t5['count']) ? $PET_VI_result_t5['count'] = 0 : $PET_VI_result_t5['count']; ?>
<?php !isset($Prade_training_t5['count']) ? $Prade_training_t5['count'] = 0 : $Prade_training_t5['count']; ?>

<?php !isset($PST_result_t6['count']) ? $PST_result_t6['count'] = 0 : $PST_result_t6['count']; ?>
<?php !isset($SST_result_t6['count']) ? $SST_result_t6['count'] = 0 : $SST_result_t6['count']; ?>
<?php !isset($PET_I_result_t6['count']) ? $PET_I_result_t6['count'] = 0 : $PET_I_result_t6['count']; ?>
<?php !isset($PET_II_result_t6['count']) ? $PET_II_result_t6['count'] = 0 : $PET_II_result_t6['count']; ?>
<?php !isset($PET_III_result_t6['count']) ? $PET_III_result_t6['count'] = 0 : $PET_III_result_t6['count']; ?>
<?php !isset($PET_IV_result_t6['count']) ? $PET_IV_result_t6['count'] = 0 : $PET_IV_result_t6['count']; ?>
<?php !isset($PET_V_result_t6['count']) ? $PET_V_result_t6['count'] = 0 : $PET_V_result_t6['count']; ?>
<?php !isset($PET_VI_result_t6['count']) ? $PET_VI_result_t6['count'] = 0 : $PET_VI_result_t6['count']; ?>
<?php !isset($Prade_training_t6['count']) ? $Prade_training_t6['count'] = 0 : $Prade_training_t6['count']; ?>

<?php !isset($division_set) ? $division_set = "ooo" : $division_set; ?>


<div class="container-fluid my-4">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-black-800"><strong>PHYSICAL MILESTONE GRAPHS</strong></h1>
        <!-- <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" data-toggle="modal" data-target="#all_projects"><i class="fas fa-download fa-sm text-white-50"></i> Generate Report</a> -->
    </div>
    <!-- Content Row -->
    <div class="row" style="height:20px">
        <input type="text" class="form-control form-control-user" name="div_passed" id="div_passed" value="<?= $division_set; ?>" style="display:none">
    </div>

    <div class="row">
        <div class="col-sm-3 mb-1">
            <a id="overall" href="#" class="btn btn-md btn-primary shadow-md rounded-pill" style="border-radius:20px;width:100%; height:100%"><i class="fas fa-globe fa-md text-white-60"></i> Overall Milestone Graph</a>
        </div>
        <div class="col-sm-3 mb-1">
            <a id="termwise" href="#" class="btn btn-md btn-primary shadow-md rounded-pill" style="border-radius:20px;width:100%;height:100%"><i class="fas fa-align-justify fa-md text-white-60"></i> Termwise Milestone Graph</a>
        </div>
        <div class="col-sm-3 mb-1">
            <a id="divisionwise" href="#" class="btn btn-md btn-primary shadow-md rounded-pill" style="border-radius:20px;width:100%;height:100%"><i class="fas fa-layer-group fa-md text-white-60"></i> Divisionwise Milestone Graph</a>
        </div>
        <div class="col-sm-3 mb-1">
            <select id="div_select" class="form-control rounded-pill" name="div" id="div" data-placeholder="Select ship" style="font-size: 0.8rem; height:100%; display:none">
                <option class="form-control form-control-user" value="">SELECT DIVISION</option>
                <?php foreach ($divisions as $data) { ?>
                    <option class="form-control form-control-user" value="<?= $data['division_name'] ?>"><?= $data['division_name'] ?></option>
                <?php } ?>
            </select>
        </div>
    </div>

    <div class="card-body bg-custom3" id="overall_graph" style="display:none">
        <div class="form-group row" style="margin-top:50px;">
            <div class="col-sm-12">
                <div id="chartContainer2" style="height: 370px; width: 100%;"></div>
            </div>
        </div>
    </div>

    <div class="card-body bg-custom3" id="termwise_graph" style="display:none">
        <div class="form-group row" style="margin-top:50px;">
            <div class="col-sm-6">
                <div id="chartContainer_t1" style="height: 370px; width: 100%;"></div>
            </div>
            <div class="col-sm-6">
                <div id="chartContainer_t2" style="height: 370px; width: 100%;"></div>
            </div>
        </div>
        <div class="form-group row" style="margin-top:50px;">
            <div class="col-sm-6">
                <div id="chartContainer_t3" style="height: 370px; width: 100%;"></div>
            </div>
            <div class="col-sm-6">
                <div id="chartContainer_t4" style="height: 370px; width: 100%;"></div>
            </div>
        </div>
        <div class="form-group row" style="margin-top:50px;">
            <div class="col-sm-6">
                <div id="chartContainer_t5" style="height: 370px; width: 100%;"></div>
            </div>
            <div class="col-sm-6">
                <div id="chartContainer_t6" style="height: 370px; width: 100%;"></div>
            </div>
        </div>
    </div>

    <?php
    if (!isset($Total_cadet_t1['count']) || $Total_cadet_t1['count'] == 0) {
        $Total_cadet_t1['count'] = 1;
    }
    if (!isset($Total_cadet_t2['count']) || $Total_cadet_t2['count'] == 0) {
        $Total_cadet_t2['count'] = 1;
    }
    if (!isset($Total_cadet_t3['count']) || $Total_cadet_t3['count'] == 0) {
        $Total_cadet_t3['count'] = 1;
    }
    if (!isset($Total_cadet_t4['count']) || $Total_cadet_t4['count'] == 0) {
        $Total_cadet_t4['count'] = 1;
    }
    if (!isset($Total_cadet_t5['count']) || $Total_cadet_t5['count'] == 0) {
        $Total_cadet_t5['count'] = 1;
    }
    if (!isset($Total_cadet_t6['count']) || $Total_cadet_t6['count'] == 0) {
        $Total_cadet_t6['count'] = 1;
    }
    if (!isset($Total_cadet_overall['count']) || $Total_cadet_overall['count'] == 0) {
        $Total_cadet_overall['count'] = 1;
    }

    $dataPoints_overall = array(
        array("label" => "PST", "y" => ($PST_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "SST", "y" => ($SST_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "PET-I", "y" => ($PET_I_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "PET-II", "y" => ($PET_II_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "PET-III", "y" => ($PET_III_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "PET-IV", "y" => ($PET_IV_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "PET-V", "y" => ($PET_V_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "PET-VI ", "y" => ($PET_VI_result_overall['count'] / $Total_cadet_overall['count']) * 100),
        array("label" => "PARADE TRAINING ", "y" => ($Prade_training_result_overall['count'] / $Total_cadet_overall['count']) * 100)
    );

    $dataPoints_t1 = array(
        array("label" => "PST", "y" => ($PST_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "SST", "y" => ($SST_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "PET-I", "y" => ($PET_I_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "PET-II", "y" => ($PET_II_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "PET-III", "y" => ($PET_III_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "PET-IV", "y" => ($PET_IV_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "PET-V", "y" => ($PET_V_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "PET-VI ", "y" => ($PET_VI_result_t1['count'] / $Total_cadet_t1['count']) * 100),
        array("label" => "PARADE TRAINING ", "y" => ($Prade_training_t1['count'] / $Total_cadet_t1['count']) * 100)
    );

    $dataPoints_t2 = array(
        array("label" => "PST", "y" => ($PST_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "SST", "y" => ($SST_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "PET-I", "y" => ($PET_I_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "PET-II", "y" => ($PET_II_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "PET-III", "y" => ($PET_III_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "PET-IV", "y" => ($PET_IV_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "PET-V", "y" => ($PET_V_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "PET-VI ", "y" => ($PET_VI_result_t2['count'] / $Total_cadet_t2['count']) * 100),
        array("label" => "PARADE TRAINING ", "y" => ($Prade_training_t2['count'] / $Total_cadet_t2['count']) * 100)
    );

    $dataPoints_t3 = array(
        array("label" => "PST", "y" => ($PST_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "SST", "y" => ($SST_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "PET-I", "y" => ($PET_I_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "PET-II", "y" => ($PET_II_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "PET-III", "y" => ($PET_III_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "PET-IV", "y" => ($PET_IV_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "PET-V", "y" => ($PET_V_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "PET-VI ", "y" => ($PET_VI_result_t3['count'] / $Total_cadet_t3['count']) * 100),
        array("label" => "PARADE TRAINING ", "y" => ($Prade_training_t3['count'] / $Total_cadet_t3['count']) * 100)
    );

    $dataPoints_t4 = array(
        array("label" => "PST", "y" => ($PST_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "SST", "y" => ($SST_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "PET-I", "y" => ($PET_I_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "PET-II", "y" => ($PET_II_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "PET-III", "y" => ($PET_III_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "PET-IV", "y" => ($PET_IV_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "PET-V", "y" => ($PET_V_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "PET-VI ", "y" => ($PET_VI_result_t4['count'] / $Total_cadet_t4['count']) * 100),
        array("label" => "PARADE TRAINING ", "y" => ($Prade_training_t4['count'] / $Total_cadet_t4['count']) * 100)
    );

    $dataPoints_t5 = array(
        array("label" => "PST", "y" => ($PST_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "SST", "y" => ($SST_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "PET-I", "y" => ($PET_I_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "PET-II", "y" => ($PET_II_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "PET-III", "y" => ($PET_III_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "PET-IV", "y" => ($PET_IV_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "PET-V", "y" => ($PET_V_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "PET-VI ", "y" => ($PET_VI_result_t5['count'] / $Total_cadet_t5['count']) * 100),
        array("label" => "PARADE TRAINING ", "y" => ($Prade_training_t5['count'] / $Total_cadet_t5['count']) * 100)
    );

    $dataPoints_t6 = array(
        array("label" => "PST", "y" => ($PST_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "SST", "y" => ($SST_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "PET-I", "y" => ($PET_I_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "PET-II", "y" => ($PET_II_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "PET-III", "y" => ($PET_III_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "PET-IV", "y" => ($PET_IV_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "PET-V", "y" => ($PET_V_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "PET-VI ", "y" => ($PET_VI_result_t6['count'] / $Total_cadet_t6['count']) * 100),
        array("label" => "PARADE TRAINING ", "y" => ($Prade_training_t6['count'] / $Total_cadet_t6['count']) * 100)
    );

    ?>
</div>

</div>

<?php $this->load->view('common/footer'); ?>
<script>
    window.onload = function() {
        var division = $('#div_passed').val();

        if (division != "ooo" && division != 'Overall' && division != 'termwise') {
            setTimeout(function() {

                var chart1 = new CanvasJS.Chart("chartContainer2", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: division + " - Cadets Physical Milestone Analytics"
                    },
                    subtitles: [{
                        text: "Percentage (%)"
                    }],
                    axisY: {
                        title: "Aggregate",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "Total Aggregate",
                        dataPoints: <?php echo json_encode($dataPoints_overall, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chart1.render();

            }, 1000);

            $('#overall_graph').show();

        } else if (division == 'Overall') {
            setTimeout(function() {
                var chart1 = new CanvasJS.Chart("chartContainer2", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "Overall Cadets Physical Milestone Analytics"
                    },
                    subtitles: [{
                        text: "Percentage (%)"
                    }],
                    axisY: {
                        title: "Aggregate",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "Total Aggregate",
                        dataPoints: <?php echo json_encode($dataPoints_overall, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chart1.render();

            }, 1000);

        } else if (division == 'termwise') {

            setTimeout(function() {
                var chartp = new CanvasJS.Chart("chartContainer_t1", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "TERM-I"
                    },
                    subtitles: [{
                        text: "PERCENTAGE (%)"
                    }],
                    axisY: {
                        title: "AGGREGATE",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "TOTAL AGGREGATE",
                        dataPoints: <?php echo json_encode($dataPoints_t1, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chartp.render();

                var chart2 = new CanvasJS.Chart("chartContainer_t2", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "TERM-II"
                    },
                    subtitles: [{
                        text: "PERCENTAGE (%)"
                    }],
                    axisY: {
                        title: "AGGREGATE",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "TOTAL AGGREGATE",
                        dataPoints: <?php echo json_encode($dataPoints_t2, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chart2.render();

                var chart3 = new CanvasJS.Chart("chartContainer_t3", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "TERM-III"
                    },
                    subtitles: [{
                        text: "PERCENTAGE (%)"
                    }],
                    axisY: {
                        title: "AGGREGATE",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "TOTAL AGGREGATE",
                        dataPoints: <?php echo json_encode($dataPoints_t3, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chart3.render();

                var chart4 = new CanvasJS.Chart("chartContainer_t4", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "TERM-IV"
                    },
                    subtitles: [{
                        text: "PERCENTAGE (%)"
                    }],
                    axisY: {
                        title: "AGGREGATE",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "TOTAL AGGREGATE",
                        dataPoints: <?php echo json_encode($dataPoints_t4, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chart4.render();

                var chart5 = new CanvasJS.Chart("chartContainer_t5", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "TERM-V"
                    },
                    subtitles: [{
                        text: "PERCENTAGE (%)"
                    }],
                    axisY: {
                        title: "AGGREGATE",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "TOTAL AGGREGATE",
                        dataPoints: <?php echo json_encode($dataPoints_t5, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chart5.render();

                var chart6 = new CanvasJS.Chart("chartContainer_t6", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    title: {
                        text: "TERM-VI"
                    },
                    subtitles: [{
                        text: "PERCENTAGE (%)"
                    }],
                    axisY: {
                        title: "AGGREGATE",
                        maximum: 100,
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "TOTAL AGGREGATE",
                        dataPoints: <?php echo json_encode($dataPoints_t6, JSON_NUMERIC_CHECK); ?>
                    }]
                });
                chart6.render();
            }, 1000);
        } else {
            $('#overall_graph').hide();
        }
    }

    $('#overall').on('click', function() {

        $.ajax({
            url: '<?= base_url(); ?>CO/get_graph_overall',
            method: 'POST',
            data: {
                'type': 'OVERALL'
            },
            success: function(data) {
                var newDoc = document.open("text/html", "replace");
                newDoc.write(data);
                newDoc.close();
            },
            async: false,

        });

        $('#overall_graph').show();
        $('#termwise_graph').hide();
    });

    $('#termwise').on('click', function() {

        $.ajax({
            url: '<?= base_url(); ?>CO/get_graph_termwise',
            method: 'POST',
            data: {
                'type': 'TERMWISE'
            },
            success: function(data) {
                var newDoc = document.open("text/html", "replace");
                newDoc.write(data);
                newDoc.close();
            },
            async: false,

        });

        $('#termwise_graph').show();
        $('#overall_graph').hide();
    });

    $('#divisionwise').on('click', function() {
        $('#div_select').show();
        $('#termwise_graph').hide();
        $('#overall_graph').hide();
    });

    $('#div_select').on('change', function() {
        var selectedValue = $(this).val();
        // alert(selectedValue);
        $.ajax({
            url: '<?= base_url(); ?>CO/get_graph_divisionwise',
            method: 'POST',
            data: {
                'selected_division': selectedValue
            },
            success: function(data) {
                var newDoc = document.open("text/html", "replace");
                newDoc.write(data);
                newDoc.close();
            },
            async: false,

        });
    });


    function seen(data) {
        $.ajax({
            url: '<?= base_url(); ?>ChatController/seen',
            method: 'POST',
            data: {
                'id': data
            },
            success: function(data) {
                $('#notification').html(data);
            },
            async: true
        });
    }

    $('#notifications').focusout(function() {
        // alert('notification clicked');
        $.ajax({
            url: '<?= base_url(); ?>ChatController/activity_seen',
            success: function(data) {
                $('#notifications').html(data);
            },
            async: true
        });
    });
</script>